{"ast":null,"code":"//\n// dropzone.js\n// Theme module\n//\n'use strict';\n\n(function () {\n  //\n  // Variables\n  //\n  var toggle = document.querySelectorAll('[data-toggle=\"dropzone\"]'); //\n  // Functions\n  //\n\n  function globalOptions() {\n    Dropzone.autoDiscover = false;\n    Dropzone.thumbnailWidth = null;\n    Dropzone.thumbnailHeight = null;\n  }\n\n  function init(el) {\n    var currentFile = undefined;\n    var elementOptions = el.dataset.options;\n    elementOptions = elementOptions ? JSON.parse(elementOptions) : {};\n    var defaultOptions = {\n      previewsContainer: el.querySelector('.dz-preview'),\n      previewTemplate: el.querySelector('.dz-preview').innerHTML,\n      init: function init() {\n        this.on('addedfile', function (file) {\n          var maxFiles = elementOptions.maxFiles;\n\n          if (maxFiles == 1 && currentFile) {\n            this.removeFile(currentFile);\n          }\n\n          currentFile = file;\n        });\n      }\n    };\n    var options = Object.assign(elementOptions, defaultOptions); // Clear preview\n\n    el.querySelector('.dz-preview').innerHTML = ''; // Init dropzone\n\n    new Dropzone(el, options);\n  } //\n  // Events\n  //\n\n\n  if (typeof Dropzone !== 'undefined' && toggle) {\n    globalOptions();\n    [].forEach.call(toggle, function (el) {\n      init(el);\n    });\n  }\n})();","map":{"version":3,"sources":["/Users/billhewitt/Desktop/Visionotype/perkbox/app/javascript/lib/dropzone.js"],"names":["toggle","document","querySelectorAll","globalOptions","Dropzone","autoDiscover","thumbnailWidth","thumbnailHeight","init","el","currentFile","undefined","elementOptions","dataset","options","JSON","parse","defaultOptions","previewsContainer","querySelector","previewTemplate","innerHTML","on","file","maxFiles","removeFile","Object","assign","forEach","call"],"mappings":"AAAA;AACA;AACA;AACA;AAEA;;AAEA,CAAC,YAAW;AAEV;AACA;AACA;AAEA,MAAIA,MAAM,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,0BAA1B,CAAb,CANU,CASV;AACA;AACA;;AAEA,WAASC,aAAT,GAAyB;AACvBC,IAAAA,QAAQ,CAACC,YAAT,GAAwB,KAAxB;AACAD,IAAAA,QAAQ,CAACE,cAAT,GAA0B,IAA1B;AACAF,IAAAA,QAAQ,CAACG,eAAT,GAA2B,IAA3B;AACD;;AAED,WAASC,IAAT,CAAcC,EAAd,EAAkB;AAChB,QAAIC,WAAW,GAAGC,SAAlB;AACA,QAAIC,cAAc,GAAGH,EAAE,CAACI,OAAH,CAAWC,OAAhC;AACIF,IAAAA,cAAc,GAAGA,cAAc,GAAGG,IAAI,CAACC,KAAL,CAAWJ,cAAX,CAAH,GAAgC,EAA/D;AACJ,QAAIK,cAAc,GAAG;AACnBC,MAAAA,iBAAiB,EAAET,EAAE,CAACU,aAAH,CAAiB,aAAjB,CADA;AAEnBC,MAAAA,eAAe,EAAEX,EAAE,CAACU,aAAH,CAAiB,aAAjB,EAAgCE,SAF9B;AAGnBb,MAAAA,IAAI,EAAE,gBAAW;AACf,aAAKc,EAAL,CAAQ,WAAR,EAAqB,UAASC,IAAT,EAAe;AAClC,cAAIC,QAAQ,GAAGZ,cAAc,CAACY,QAA9B;;AACA,cAAIA,QAAQ,IAAI,CAAZ,IAAiBd,WAArB,EAAkC;AAChC,iBAAKe,UAAL,CAAgBf,WAAhB;AACD;;AACDA,UAAAA,WAAW,GAAGa,IAAd;AACD,SAND;AAOD;AAXkB,KAArB;AAaA,QAAIT,OAAO,GAAGY,MAAM,CAACC,MAAP,CAAcf,cAAd,EAA8BK,cAA9B,CAAd,CAjBgB,CAmBhB;;AACAR,IAAAA,EAAE,CAACU,aAAH,CAAiB,aAAjB,EAAgCE,SAAhC,GAA4C,EAA5C,CApBgB,CAsBhB;;AACA,QAAIjB,QAAJ,CAAaK,EAAb,EAAiBK,OAAjB;AACD,GA3CS,CA8CV;AACA;AACA;;;AAEA,MAAI,OAAOV,QAAP,KAAoB,WAApB,IAAmCJ,MAAvC,EAA+C;AAC7CG,IAAAA,aAAa;AAEb,OAAGyB,OAAH,CAAWC,IAAX,CAAgB7B,MAAhB,EAAwB,UAASS,EAAT,EAAa;AACnCD,MAAAA,IAAI,CAACC,EAAD,CAAJ;AACD,KAFD;AAGD;AAEF,CA1DD","sourcesContent":["//\r\n// dropzone.js\r\n// Theme module\r\n//\r\n\r\n'use strict';\r\n\r\n(function() {\r\n\r\n  //\r\n  // Variables\r\n  //\r\n\r\n  var toggle = document.querySelectorAll('[data-toggle=\"dropzone\"]');\r\n\r\n\r\n  //\r\n  // Functions\r\n  //\r\n\r\n  function globalOptions() {\r\n    Dropzone.autoDiscover = false;\r\n    Dropzone.thumbnailWidth = null;\r\n    Dropzone.thumbnailHeight = null;\r\n  }\r\n\r\n  function init(el) {\r\n    var currentFile = undefined;\r\n    var elementOptions = el.dataset.options;\r\n        elementOptions = elementOptions ? JSON.parse(elementOptions) : {};\r\n    var defaultOptions = {\r\n      previewsContainer: el.querySelector('.dz-preview'),\r\n      previewTemplate: el.querySelector('.dz-preview').innerHTML,\r\n      init: function() {\r\n        this.on('addedfile', function(file) {\r\n          var maxFiles = elementOptions.maxFiles;\r\n          if (maxFiles == 1 && currentFile) {\r\n            this.removeFile(currentFile);\r\n          }\r\n          currentFile = file;\r\n        });\r\n      }\r\n    }\r\n    var options = Object.assign(elementOptions, defaultOptions);\r\n\r\n    // Clear preview\r\n    el.querySelector('.dz-preview').innerHTML = '';\r\n\r\n    // Init dropzone\r\n    new Dropzone(el, options);\r\n  }\r\n\r\n\r\n  //\r\n  // Events\r\n  //\r\n\r\n  if (typeof Dropzone !== 'undefined' && toggle) {\r\n    globalOptions();\r\n\r\n    [].forEach.call(toggle, function(el) {\r\n      init(el);\r\n    });\r\n  }\r\n\r\n})();"]},"metadata":{},"sourceType":"module"}