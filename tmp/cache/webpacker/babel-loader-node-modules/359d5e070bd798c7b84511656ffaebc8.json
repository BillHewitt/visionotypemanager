{"ast":null,"code":"//\n// kanban.js\n// Dashkit module\n//\n(function () {\n  //\n  // Variables\n  //\n  var categories = document.querySelectorAll('.kanban-category');\n  var links = document.querySelectorAll('.kanban-add-link');\n  var forms = document.querySelectorAll('.kanban-add-form'); //\n  // Functions\n  //\n\n  function init(categories) {\n    new Draggable.Sortable(categories, {\n      draggable: '.kanban-item',\n      mirror: {\n        constrainDimensions: true\n      }\n    });\n  }\n\n  function toggleItems(el) {\n    var parent = el.closest('.kanban-add');\n    var card = parent.querySelector('.card');\n    var link = parent.querySelector('.kanban-add-link');\n    var form = parent.querySelector('.kanban-add-form');\n    link.classList.toggle('d-none');\n    form.classList.toggle('d-none');\n\n    if (card) {\n      if (card.classList.contains('card-sm')) {\n        if (card.classList.contains('card-flush')) {\n          card.classList.remove('card-flush');\n        } else {\n          card.classList.add('card-flush');\n        }\n      }\n    }\n  } //\n  // Events\n  //\n\n\n  if (typeof Draggable !== 'undefined' && categories) {\n    init(categories);\n  }\n\n  if (links) {\n    [].forEach.call(links, function (el) {\n      el.addEventListener('click', function () {\n        toggleItems(el);\n      });\n    });\n  }\n\n  if (forms) {\n    [].forEach.call(forms, function (el) {\n      // Reset\n      el.addEventListener('reset', function () {\n        toggleItems(el);\n      }); // Submit\n\n      el.addEventListener('submit', function (e) {\n        e.preventDefault();\n      });\n    });\n  }\n})();","map":{"version":3,"sources":["/Users/billhewitt/Desktop/Visionotype/perkbox copy/app/javascript/lib/kanban.js"],"names":["categories","document","querySelectorAll","links","forms","init","Draggable","Sortable","draggable","mirror","constrainDimensions","toggleItems","el","parent","closest","card","querySelector","link","form","classList","toggle","contains","remove","add","forEach","call","addEventListener","e","preventDefault"],"mappings":"AAAA;AACA;AACA;AACA;AAEA,CAAC,YAAW;AAEV;AACA;AACA;AAEA,MAAIA,UAAU,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,CAAjB;AACA,MAAIC,KAAK,GAAGF,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,CAAZ;AACA,MAAIE,KAAK,GAAGH,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,CAAZ,CARU,CAWV;AACA;AACA;;AAEA,WAASG,IAAT,CAAcL,UAAd,EAA0B;AACxB,QAAIM,SAAS,CAACC,QAAd,CAAuBP,UAAvB,EAAmC;AACjCQ,MAAAA,SAAS,EAAE,cADsB;AAEjCC,MAAAA,MAAM,EAAE;AACNC,QAAAA,mBAAmB,EAAE;AADf;AAFyB,KAAnC;AAMD;;AAED,WAASC,WAAT,CAAqBC,EAArB,EAAyB;AACvB,QAAIC,MAAM,GAAGD,EAAE,CAACE,OAAH,CAAW,aAAX,CAAb;AACA,QAAIC,IAAI,GAAGF,MAAM,CAACG,aAAP,CAAqB,OAArB,CAAX;AACA,QAAIC,IAAI,GAAGJ,MAAM,CAACG,aAAP,CAAqB,kBAArB,CAAX;AACA,QAAIE,IAAI,GAAGL,MAAM,CAACG,aAAP,CAAqB,kBAArB,CAAX;AAEAC,IAAAA,IAAI,CAACE,SAAL,CAAeC,MAAf,CAAsB,QAAtB;AACAF,IAAAA,IAAI,CAACC,SAAL,CAAeC,MAAf,CAAsB,QAAtB;;AAEA,QAAIL,IAAJ,EAAU;AACR,UAAIA,IAAI,CAACI,SAAL,CAAeE,QAAf,CAAwB,SAAxB,CAAJ,EAAwC;AACtC,YAAIN,IAAI,CAACI,SAAL,CAAeE,QAAf,CAAwB,YAAxB,CAAJ,EAA2C;AACzCN,UAAAA,IAAI,CAACI,SAAL,CAAeG,MAAf,CAAsB,YAAtB;AACD,SAFD,MAEO;AACLP,UAAAA,IAAI,CAACI,SAAL,CAAeI,GAAf,CAAmB,YAAnB;AACD;AACF;AACF;AACF,GA1CS,CA6CV;AACA;AACA;;;AAEA,MAAI,OAAOjB,SAAP,KAAqB,WAArB,IAAoCN,UAAxC,EAAoD;AAClDK,IAAAA,IAAI,CAACL,UAAD,CAAJ;AACD;;AAED,MAAIG,KAAJ,EAAW;AACT,OAAGqB,OAAH,CAAWC,IAAX,CAAgBtB,KAAhB,EAAuB,UAASS,EAAT,EAAa;AAClCA,MAAAA,EAAE,CAACc,gBAAH,CAAoB,OAApB,EAA6B,YAAW;AACtCf,QAAAA,WAAW,CAACC,EAAD,CAAX;AACD,OAFD;AAGD,KAJD;AAKD;;AAED,MAAIR,KAAJ,EAAW;AACT,OAAGoB,OAAH,CAAWC,IAAX,CAAgBrB,KAAhB,EAAuB,UAASQ,EAAT,EAAa;AAElC;AACAA,MAAAA,EAAE,CAACc,gBAAH,CAAoB,OAApB,EAA6B,YAAW;AACtCf,QAAAA,WAAW,CAACC,EAAD,CAAX;AACD,OAFD,EAHkC,CAOlC;;AACAA,MAAAA,EAAE,CAACc,gBAAH,CAAoB,QAApB,EAA8B,UAASC,CAAT,EAAY;AACxCA,QAAAA,CAAC,CAACC,cAAF;AACD,OAFD;AAGD,KAXD;AAYD;AAEF,CA5ED","sourcesContent":["//\r\n// kanban.js\r\n// Dashkit module\r\n//\r\n\r\n(function() {\r\n  \r\n  //\r\n  // Variables\r\n  //\r\n\r\n  var categories = document.querySelectorAll('.kanban-category');\r\n  var links = document.querySelectorAll('.kanban-add-link');\r\n  var forms = document.querySelectorAll('.kanban-add-form');\r\n\r\n\r\n  //\r\n  // Functions\r\n  //\r\n\r\n  function init(categories) {\r\n    new Draggable.Sortable(categories, {\r\n      draggable: '.kanban-item',\r\n      mirror: {\r\n        constrainDimensions: true\r\n      }\r\n    });\r\n  }\r\n\r\n  function toggleItems(el) {\r\n    var parent = el.closest('.kanban-add');\r\n    var card = parent.querySelector('.card');\r\n    var link = parent.querySelector('.kanban-add-link');\r\n    var form = parent.querySelector('.kanban-add-form');\r\n\r\n    link.classList.toggle('d-none');\r\n    form.classList.toggle('d-none');\r\n\r\n    if (card) {\r\n      if (card.classList.contains('card-sm')) {\r\n        if (card.classList.contains('card-flush')) {\r\n          card.classList.remove('card-flush');\r\n        } else {\r\n          card.classList.add('card-flush');\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  //\r\n  // Events\r\n  //\r\n\r\n  if (typeof Draggable !== 'undefined' && categories) {\r\n    init(categories);\r\n  }\r\n\r\n  if (links) {\r\n    [].forEach.call(links, function(el) {\r\n      el.addEventListener('click', function() {\r\n        toggleItems(el);\r\n      });\r\n    });\r\n  }\r\n\r\n  if (forms) {\r\n    [].forEach.call(forms, function(el) {\r\n\r\n      // Reset\r\n      el.addEventListener('reset', function() {\r\n        toggleItems(el);\r\n      });\r\n\r\n      // Submit\r\n      el.addEventListener('submit', function(e) {\r\n        e.preventDefault();\r\n      });\r\n    });\r\n  }\r\n\r\n})();"]},"metadata":{},"sourceType":"module"}